# Plot a histogram

The first step in any data analysis is always to plot the data.

Because we want to compare means between two groups, a useful plot is a **histogram**, which shows how often each value (or range of values) was observed.

Plotting in the tidyverse is most easily accomplished using the `ggplot()` function and its associated helper functions.

## Basic histogram

To plot a basic histogram of the `beak_length` variable, use the following code. Note the use of a `+` after the `ggplot()` function. Copy this code to your script and run it. RStudio is smart enough to recognize that it should all be run together, so putting your cursor on any of these lines and typing Cmd+Return will run all the lines at once.

```{r histogram, fig.width=6, fig.height=3, fig.align='center'}
# histogram ---------------------------------------------------------------

# histogram of beak length
ggplot(
  data = finches,                     # use the finches dataset
  mapping = aes(x = beak_length)      # put beak length on the x axis
) +
  geom_histogram(bins = 14)           # add the histogram, use 14 bins
```

You can plot histograms of other variables by changing the `x = ` part of the code. 

You can also experiment with different numbers of bins. The goal is to have enough that you can see a hump-shaped distribution, but not so many that you have too many bins with few or no observations. Try plotting a histogram with 50 bins, and another with 3 bins. Not very informational, are they?

## Add facets

Sometimes we want to see how the distribution of a variable varies among different subsets of the data. For example, to answer our question we want to see how beak length varies between birds that did or did not survive the drought. One easy way to do this is with the `facet_wrap()` function in ggplot. Note that you have to add a `+` operator after the `geom_histogram()` line.

```{r grouped-histogram, fig.width=6, fig.align='center'}
# histogram of beak length, grouped by survival
ggplot(
  data = finches,                     # use the finches dataset
  mapping = aes(x = beak_length,      # put beak length on the x axis
                fill = outcome)       # fill sets the color of the boxes
) +
  geom_histogram(bins = 14) +         # add the histogram, use 14 bins
  facet_wrap(~ outcome, ncol = 1) +   # outcome is the grouping variable
  guides(fill = FALSE)                # don't show a legend for fill color
```

## Add labels

The last thing you might want to do is spruce up your plot by adding better axis labels and removing the redundant color legend. This is done with the `labs()` function and the :

```{r grouped-histogram-labels, fig.width=6, fig.align='center'}
# histogram of beak length, grouped by survival, with labels
ggplot(
  data = finches,                     # use the finches dataset
  mapping = aes(x = beak_length,      # put beak length on the x axis
                fill = outcome)       # fill sets the color of the boxes
) +
  geom_histogram(bins = 14) +         # add the histogram, use 14 bins
  facet_wrap(~ outcome, ncol = 1) +   # outcome is the grouping variable
  guides(fill = FALSE) +              # don't show a legend for fill color
  labs(
    title = "Figure 1.",              # title
    x = "Beak Length (mm)",           # x-axis label
    y = "Number of Birds"             # y-axis label
  ) +
  theme(plot.title = element_text(size = rel(.8)))  # make title smaller
```

## Write a figure legend

When sharing your figure with others, for example in a report or peer-reviewed journal article, you should always include a figure legend.

A good figure legend for this histogram would be:

<blockquote class="text-info">Figure 1. <strong>Distribution of beak lengths among medium ground finches (<i>Geospiza fortis</i>) grouped by outcome during the 1977 drought on Daphne Major, Galapagos archipelago.</strong> Each sample consisted of 50 individuals. Birds were banded and measured during 1975-1977 and resighted in 1978.</blockquote>

## Export your figure

You will only be turning in Assignment #2 Bluestem Analysis, so **YOU DO NOT NEED TO EXPORT THESE FIGURES** for your lab today. However, if you did want to save your figures and put them in a Microsoft Word document, here are directions for doing that:

To put your figure in a Microsoft Word document (your assignment in part 4), you must first save it as an image file on your computer. You can do this with `ggsave()`, which saves the most recent ggplot displayed.

You choose a file name, the dimensions of the output file (think about how big you want this to be when you paste it into a word document), and the units of the dimensions (e.g `"in"` for inches). For example, this code saves your histogram as a 3.5" x 3.5" PNG file:

```{r save-histogram, eval=FALSE}
# save your most recent plot
ggsave("Beak Length Histogram.png",   # you choose a name for the file
       width = 3.5, height = 3.5,     # dimensions of saved file DO NOT CHANGE
       units = "in")                  # units for the dimensions DO NOT CHANGE
```

Look in Files tab in RStudio and you'll see a file named **Beak Length Histogram.png** now. You can click it to open the file in your computer's default image viewer.